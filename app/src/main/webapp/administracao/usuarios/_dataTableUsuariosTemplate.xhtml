<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<ui:composition>


        <p:fieldset legend="Administração / Usuários / Listagem" >

            <p:dataTable id="usuarios" value="#{listaUsuariosBean.usuarios}" var="usuario" scrollable="true" scrollRows="5" scrollHeight="400" liveScroll="true" >

                <p:column>
                    <f:facet name="header">
                        <h:outputLabel value="Usuário" />
                        <h:outputLabel style="margin-left: 5px" styleClass="pi pi-user" />
                    </f:facet>
                    <p:outputLabel value="#{usuario.username}" />
                </p:column>

                <p:column headerText="Permissões" >
                    <ui:repeat var="role" value="#{usuario.roles}">
                        <p:outputLabel value="#{role.name}" />
                    </ui:repeat>
                </p:column>

                <p:column>
                    <f:facet name="header">
                        <h:outputLabel value="Editar" />
                        <h:outputLabel style="margin-left: 5px" styleClass="pi pi-user-edit" />
                    </f:facet>
                    <p:link outcome="/administracao/usuarios/atualizacao" includeViewParams="true">
                        <h:outputText title="Editar" styleClass="ui-icon pi pi-pencil" />
                        <f:param name="usuarioId" value="#{usuario.id}" />
                    </p:link>
                </p:column>

            </p:dataTable>

        </p:fieldset>


</ui:composition>

      
</html>
